<div class="row">

  <!-- tareas pendientes -->
  <section class="col-md-3" data-state="to do">
    <legend class="text-center">
      To do
      <a ng-href="#/tasks/add/" class="btn btn-sm btn-link pull-right">
        <span class="glyphicon glyphicon-plus"></span> Add task
      </a>
    </legend>
    <article ng-repeat="task in tasks | filter: {stateName: 'to do'}" class="panel panel-danger" draggable="true" data-index="{{$index}}">
      <header ng-bind="task.name" class="panel-heading text-center"></header>
      <div class="panel-body">
        <strong>Project: </strong>
        <a ng-href="#/projects/single/{{task.project}}" ng-bind="task.projectName"></a><br>
        <span ng-if="task.userAssigned !== 0">
          <strong>Assigned to:</strong>
          <a ng-href="#/users/single/{{task.userAssigned}}" ng-bind="task.userAssignedName"></a><br>
        </span>
        <strong>Estimated time: </strong><span ng-bind="task.estimatedTime"></span> hours
      </div>
      <footer class="panel-footer">
        <a ng-href="#/tasks/single/{{task.id}}" class="btn btn-sm btn-block btn-danger">
          <span class="glyphicon glyphicon-list-alt"></span> View details
        </a>
        <button class="btn btn-sm btn-block btn-danger" ng-if="itsMe">
          Start task <span class="glyphicon glyphicon-chevron-right"></span>
        </button>
      </footer>
    </article>
  </section>

  <!-- tareas en progreso -->
  <section class="col-md-3" data-state="in progress">
    <legend class="text-center">In progress</legend>
    <article ng-repeat="task in tasks | filter: {stateName: 'in progress'}" class="panel panel-primary" draggable="true" data-index="{{$index}}">
      <header ng-bind="task.name" class="panel-heading text-center"></header>
      <div class="panel-body">
        <strong>Project: </strong>
        <a ng-href="#/projects/single/{{task.project}}" ng-bind="task.projectName"></a>
        <br>
        <strong>Doing: </strong>
        <a ng-href="#/users/single/{{task.userAssigned}}" ng-bind="task.userAssignedName"></a><br>
        <strong>Estimated time: </strong><span ng-bind="task.estimatedTime"></span> hours
      </div>
      <footer class="panel-footer">
        <a ng-href="#/tasks/single/{{task.id}}" class="btn btn-sm btn-block btn-primary">
          <span class="glyphicon glyphicon-list-alt"></span> View details
        </a>
        <button class="btn btn-sm btn-block btn-primary" ng-if="itsMe">
          Pass to tests <span class="glyphicon glyphicon-chevron-right"></span>
        </button>
      </footer>
    </article>
  </section>

  <!-- tareas en pruebas -->
  <section class="col-md-3" data-state="in testing">
    <legend class="text-center">In testing</legend>
    <article ng-repeat="task in tasks | filter: {stateName: 'in testing'}" class="panel panel-warning" draggable="true" data-index="{{$index}}">
      <header ng-bind="task.name" class="panel-heading text-center"></header>
      <div class="panel-body">
        <strong>Project: </strong>
        <a ng-href="#/projects/single/{{task.project}}" ng-bind="task.projectName"></a>
        <br>
        <strong>Testing: </strong>
        <a ng-href="#/users/single/{{task.userAssigned}}" ng-bind="task.userAssignedName"></a><br>
        <strong>Estimated time: </strong><span ng-bind="task.estimatedTime"></span> hours
      </div>
      <footer class="panel-footer">
        <a ng-href="#/tasks/single/{{task.id}}" class="btn btn-sm btn-block btn-warning">
          <span class="glyphicon glyphicon-list-alt"></span> View details
        </a>
        <button class="btn btn-sm btn-block btn-warning" ng-if="itsMe">
           <span class="glyphicon glyphicon-chevron-left"></span> Return to in progress
        </button>
        <button class="btn btn-sm btn-block btn-warning" ng-if="itsMe">
          Complete <span class="glyphicon glyphicon-chevron-right"></span>
        </button>
      </footer>
    </article>
  </section>

  <!-- tareas completas -->
  <section class="col-md-3" data-state="completed">
    <legend class="text-center">Completed</legend>
    <article ng-repeat="task in tasks | filter: {stateName: 'completed'}" class="panel panel-success" draggable="true" data-index="{{$index}}">
      <header ng-bind="task.name" class="panel-heading text-center"></header>
      <div class="panel-body">
        <strong>Project: </strong>
        <a ng-href="#/projects/single/{{task.project}}" ng-bind="task.projectName"></a>
        <br>
        <strong>Estimated time: </strong><span ng-bind="task.estimatedTime"></span> hours
        <span ng-if="task.requiredTime != NULL"><br>
          <strong>Required time: </strong><span ng-bind="task.requiredTime"></span> hours
        </span>
      </div>
      <footer class="panel-footer">
        <a ng-href="#/tasks/single/{{task.id}}" class="btn btn-sm btn-block btn-success">
          <span class="glyphicon glyphicon-list-alt"></span> View details
        </a>
        <button class="btn btn-sm btn-block btn-success" ng-if="itsMe">
          Return to test <span class="glyphicon glyphicon-chevron-left"></span>
        </button>
      </footer>
    </article>
  </section>

</div>